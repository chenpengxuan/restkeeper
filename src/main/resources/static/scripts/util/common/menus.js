define(function(require, exports, module) {	var $ = jQuery = require('jquery');	var cookies = require('cookie');	var MENUS_URL = base_path + "/common/menus";	var COOKIE_MENUS = 'cookie_menus';	var MENUS_INDEX = 1;    // 显示菜单信息    function showMenus(data){        var menuInfos = data.childTreeNode[0].childTreeNode;        var menusHtml = "";        $.each(menuInfos, function(i, item){            var node = item.node;            var name = node.permitname;            var url = node.url;            var cls = node.iconcls;            console.log(i);            menusHtml += '<li><a href=\"'+url+'\" title=\"'+name+'\">'+name+'</a>';            if(i==3){                menusHtml += '<ul style="display: none;left:220px;">';            }else{                menusHtml += '<ul style="display: none;">';            }            $.each(item.childTreeNode, function(j, item2){                node = item2.node;                name = node.permitname;                url = node.url;                cls = node.iconcls;                if(window.location.pathname == url){                    MENUS_INDEX = i;                    menusHtml += '<li class="'+(cls || "")+'"><a href="'+url+'" title="'+name+'" class="active1">'+name+'</a></li>';                }else{                    menusHtml += '<li class="'+(cls || "")+'"><a href="'+url+'" title="'+name+'">'+name+'</a></li>';                }            })            menusHtml += '</ul>';            menusHtml += '</li>';            if(window.location.pathname == url){                MENUS_INDEX = i;            }        });        $("#nav").html(menusHtml);        initMenus();    }    // 初始化菜单触发事件    function initMenus(){        var index = 0;        if(MENUS_INDEX){            index = MENUS_INDEX;        }        $("#nav>li:eq("+index+")").addClass("active0").find("ul").show();        $("#nav>li").hover(function() {            $("#nav>li ul").hide();            $(this).find("ul").show();        }, function() {            $(this).find("ul").hide();            $("#nav>li:eq("+index+")").addClass("active0").find("ul").show();        });    }    if(cookies.getCookie(COOKIE_MENUS)){        var menus_info = "";        try{            menus_info = decodeURIComponent(cookies.getCookie(COOKIE_MENUS));        }catch(e){            menus_info = unescape(cookies.getCookie(COOKIE_MENUS));        }        showMenus(JSON.parse(menus_info));    }else{        $.ajax({            url: MENUS_URL,            success: function(data){                if(data.status == 'SUCCESS'){                    cookies.addCookie(COOKIE_MENUS, JSON.stringify(data.content));                    showMenus(data.content);                }else if(data.status == 'ERROR'){                    alert(data.message);                }else{                    alert("菜单加载遇未知错误！");                }            }        });    }    require('/scripts/dev/header');});